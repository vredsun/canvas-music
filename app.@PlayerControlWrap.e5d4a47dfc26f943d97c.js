(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"./node_modules/setimmediate/setImmediate.js":function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,s,a,c,u=1,l={},i=!1,d=e.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){s.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",c=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent("onmessage",c),r=function(t){e.postMessage(a+t,"*")}),m.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return l[u]=o,r(u),u++},m.clearImmediate=f}function f(e){delete l[e]}function p(e){if(i)setTimeout(p,0,e);else{var t=l[e];if(t){i=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),i=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/process/browser.js"))},"./node_modules/timers-browserify/main.js":function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function s(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new s(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new s(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("./node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/components/ui/molecules/progress/Progress.tsx":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/web.immediate.js");var r=n("./node_modules/react/index.js"),o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=n("./node_modules/vs-react-store/lib/index.js"),a=n("./src/store/selectors.ts"),c=n("./src/constants/play_state.ts"),u=n("./src/utils/time.ts"),l=n("./src/store/actions.ts"),i=o.c.div.withConfig({displayName:"Container",componentId:"sc-1x3ww3w-0"})(["position:relative;width:100%;height:30px;cursor:pointer;background-color:rgba(0,0,0,0.25);"]),d=o.c.div.withConfig({displayName:"TextPlashkaContainer",componentId:"sc-1x3ww3w-1"})(["position:absolute;top:50%;transform:translate(0,-50%) scale(1,",");left:0;right:0;height:100%;display:flex;justify-content:space-between;align-items:flex-end;padding:0.15rem 10px;color:white;pointer-events:none;transition:transform 0.3s;"],(function(e){return e.isVisible?1:0})),m=o.c.div.withConfig({displayName:"Status",componentId:"sc-1x3ww3w-2"})(["height:100%;width:0px;background-color:#5588ff;"]),f=r.memo((function(t){var n=r.useRef(),o=r.useRef(),f=r.useRef(),p=Object(s.useDispatch)(),j=Object(s.useSelector)(a.m),b=Object(s.useSelector)(a.h),v=Object(s.useSelector)(a.e);r.useEffect((function(){var e=null,t=performance.now();return function r(s){j===c.a.PLAY&&(e=requestAnimationFrame(r)),function(e,t,n,r,o){var s="".concat(Math.round(n/t*e),"px");s!==r.style.width&&(r.style.width=s);var a=Object(u.a)(n);a!==o.innerText&&(o.innerText=a)}(f.current.clientWidth,v,(s-t)/1e3+b,o.current,n.current)}(t),function(){e&&cancelAnimationFrame(e)}}),[j,b]);var y=r.useCallback((function(t){if(v){var n=f.current.clientWidth,r=(t.screenX-t.currentTarget.getBoundingClientRect().left)/n,o=v*r,s=j===c.a.PLAY;s&&p(Object(l.z)(c.a.PAUSE)),e((function(){p(Object(l.v)(o)),s&&p(Object(l.z)(c.a.PLAY))}))}}),[v,j]);return(r.createElement(i,{ref:f,onClick:y},r.createElement(m,{ref:o}),r.createElement(d,{isVisible:Boolean(v)},r.createElement("span",{ref:n},Object(u.a)(0)),r.createElement("span",null,Object(u.a)(v)))))}));t.a=f}).call(this,n("./node_modules/timers-browserify/main.js").setImmediate)},"./src/components/ui/molecules/trigger_on_get_audio_buffer/TriggerOnGetAudioBuffer.tsx":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.array.for-each.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),n("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),n("./node_modules/core-js/modules/es.object.keys.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/web.immediate.js"),n("./node_modules/core-js/modules/web.url.js"),n("./node_modules/regenerator-runtime/runtime.js");var r=n("./node_modules/react/index.js"),o=n("./node_modules/vs-react-store/lib/index.js"),s=n("./src/store/selectors.ts"),a=n("./src/store/actions.ts"),c=n("./src/utils/load_track.ts");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,s,a){try{var c=e[s](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function a(e){d(s,r,o,a,c,"next",e)}function c(e){d(s,r,o,a,c,"throw",e)}a(void 0)}))}}var f=r.memo((function(){var t=Object(o.useSelector)(s.c),n=Object(o.useDispatch)();return r.useEffect((function(){if((null==t?void 0:t.trackFile)&&!t.trackAudioBuffer){var r=window.URL.createObjectURL(t.trackFile);n(Object(a.C)()),e(m(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)(r,(function(e){n(Object(a.w)(e.loaded,e.total))}));case 2:o=e.sent,n(Object(a.D)(t,l({},t,{trackAudioBuffer:o})));case 4:case"end":return e.stop()}}),e)}))))}}),[t]),null}));t.a=f}).call(this,n("./node_modules/timers-browserify/main.js").setImmediate)},"./src/components/ui/templates/player_control/PlayerControlWrap.tsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n("./node_modules/vs-react-store/lib/index.js"),s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=(n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/util/util.js")),c=n("./src/constants/play_state.ts"),u=(n("./node_modules/core-js/modules/es.array.every.js"),n("./node_modules/core-js/modules/es.array.fill.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/es.array-buffer.slice.js"),n("./node_modules/core-js/modules/es.typed-array.uint8-array.js"),n("./node_modules/core-js/modules/es.typed-array.copy-within.js"),n("./node_modules/core-js/modules/es.typed-array.every.js"),n("./node_modules/core-js/modules/es.typed-array.fill.js"),n("./node_modules/core-js/modules/es.typed-array.filter.js"),n("./node_modules/core-js/modules/es.typed-array.find.js"),n("./node_modules/core-js/modules/es.typed-array.find-index.js"),n("./node_modules/core-js/modules/es.typed-array.for-each.js"),n("./node_modules/core-js/modules/es.typed-array.includes.js"),n("./node_modules/core-js/modules/es.typed-array.index-of.js"),n("./node_modules/core-js/modules/es.typed-array.iterator.js"),n("./node_modules/core-js/modules/es.typed-array.join.js"),n("./node_modules/core-js/modules/es.typed-array.last-index-of.js"),n("./node_modules/core-js/modules/es.typed-array.map.js"),n("./node_modules/core-js/modules/es.typed-array.reduce.js"),n("./node_modules/core-js/modules/es.typed-array.reduce-right.js"),n("./node_modules/core-js/modules/es.typed-array.reverse.js"),n("./node_modules/core-js/modules/es.typed-array.set.js"),n("./node_modules/core-js/modules/es.typed-array.slice.js"),n("./node_modules/core-js/modules/es.typed-array.some.js"),n("./node_modules/core-js/modules/es.typed-array.sort.js"),n("./node_modules/core-js/modules/es.typed-array.subarray.js"),n("./node_modules/core-js/modules/es.typed-array.to-locale-string.js"),n("./node_modules/core-js/modules/es.typed-array.to-string.js"),n("./src/store/selectors.ts")),l=Math.floor(256),i=function(e){return function(t,n,r,o,s){return t+e(n,r,s)*function(e,t){return Math.min(t-10,Math.max(0,t/2-Math.floor((e-128)/256*t)))}(o,t)}},d=i((function(e,t,n){return Math.cos(n+2*Math.PI/t*e)})),m=i((function(e,t,n){return Math.sin(n+2*Math.PI/t*e)})),f=function(e,t,n,r,o,s){var a=t*(2*r),c=Math.pow(2,o);e.strokeStyle="#000000",e.lineWidth=2,e.fillStyle="#FFFFFF",e.fillRect(0,0,512,512),e.beginPath();for(var u=0,i=0,f=1,p=0;p<a;p+=1){var j=p%t;if(0===j&&(f=(f+1)%2),i+=n[f?t-1-j:j],(p+1)%c==0){u=i/c,i=0;for(var b=p-c;b<p;b++){var v=d(l,b,a,u,0),y=m(l,b,a,u,0);0===p?e.moveTo(v,y):e.lineTo(v,y)}}}e.closePath(),e.stroke()},p=new Array(256).fill(128),j=r.memo((function(e){var t=r.useRef(),n=Object(o.useSelector)(u.q),s=Object(o.useSelector)(u.k),l=Object(o.useSelector)(u.p),i=Object(o.useSelector)(u.g),d=Object(o.useSelector)(u.m);return r.useEffect((function(){if(e.analyser&&d===c.a.PLAY){e.analyser.fftSize=2*e.monoDataLength;var n=e.analyser.frequencyBinCount,r=new Uint8Array(n);e.analyser.getByteTimeDomainData(r);var o=null;return function n(){o=requestAnimationFrame(n),e.analyser.getByteTimeDomainData(r);var a=p.map((function(e,t){return i?function(e,t,n,r){if(r!==n){var o=(t+e)/2,s=r-n,a=Math.abs(s),c=s/a,u=5*Math.floor(a/256*100)/100+1;return n+Math.max(o-n,Math.abs(s/Math.pow(2,2*u)))*c}return r}(0,256,e,r[t]):r[t]}));p=a;var c=t.current.getContext("2d");f(c,e.monoDataLength,a,s,l)}(),function(){Object(a.isNull)(o)||cancelAnimationFrame(o)}}var u=null,m=performance.now();return function n(r){u=requestAnimationFrame(n);var o=(r-m)/5,a=p.map((function(e){return e>128?Math.max(128,e-o):e<128?Math.min(128,e+o):e})),c=t.current.getContext("2d");f(c,e.monoDataLength,a,s,l),a.every((function(e){return 128===e}))&&cancelAnimationFrame(u)}(performance.now()),function(){Object(a.isNull)(u)||cancelAnimationFrame(u)}}),[e.analyser,d,512,n,s,l,i]),r.createElement("canvas",{width:512,height:512,ref:t})})),b=(n("./node_modules/core-js/modules/es.array.concat.js"),n("./src/global/index.ts")),v=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var s=r.useMemo((function(){if(e){var t=Object(b.a)(),n=t.createBufferSource(),r=t.createAnalyser(),o=t.createGain();return n.connect(r),r.connect(o),o.connect(t.destination),{source:n,gainNode:o,analyser:r}}return null}),[e].concat(n));return r.useEffect((function(){return function(){var e=Object(b.a)();try{s.source.disconnect(s.analyser),s.analyser.disconnect(s.gainNode),s.gainNode.disconnect(e.destination),s.source.buffer&&s.source.stop()}catch(e){}}}),[s]),s},y=(n("./node_modules/core-js/modules/es.math.log2.js"),n("./node_modules/core-js/modules/es.number.constructor.js"),n("./src/store/actions.ts")),g=r.memo((function(e){var t=r.useCallback((function(t){e.onChange(Number(t.target.value))}),[e.onChange]),n=r.useMemo((function(){var t=[];if(e.generateRange)t=e.generateRange();else for(var n=e.rangeFrom;n<=e.rangeTo;n+=e.rangeStep)t.push(n);return t}),[e.rangeFrom,e.rangeTo,e.rangeStep]);return r.createElement("label",null,e.label,r.createElement("select",{onChange:t,value:e.value},n.map((function(e){return r.createElement("option",{key:e,value:e},e)}))))})),h=r.memo((function(e){var t=Object(o.useSelector)(u.p),n=Object(o.useDispatch)(),s=r.useCallback((function(e){var t,r;n(Object(y.E)(Number(null!==(t=null==e||null===(r=e.target)||void 0===r?void 0:r.value)&&void 0!==t?t:e)))}),[]);return r.createElement(g,{label:"Количество объединений",rangeFrom:0,rangeTo:Math.log2(e.monoDataLength)-1,rangeStep:1,onChange:s,value:t})})),O=r.memo((function(e){var t=Object(o.useSelector)(u.k),n=Object(o.useDispatch)(),s=r.useCallback((function(e){n(Object(y.x)(e/2))}),[]);return r.createElement(g,{label:"Количество повторений",rangeFrom:2,rangeTo:20,rangeStep:2,onChange:s,value:2*t})})),_=r.memo((function(e){var t=Object(o.useSelector)(u.q);return r.useEffect((function(){e.gainNode&&(e.gainNode.gain.value=t)}),[e.gainNode,t]),null})),E=r.memo((function(e){return r.createElement("button",{onClick:e.onClick,disabled:e.isDisabled},e.children)})),w=r.memo((function(e){var t=Object(o.useSelector)(u.f),n=Object(o.useSelector)(u.m),s=Object(o.useDispatch)(),a=r.useCallback((function(){t||(n===c.a.PAUSE&&s(Object(y.A)()),n===c.a.PLAY&&s(Object(y.z)(c.a.PAUSE)))}),[t,n]);return r.createElement(E,{onClick:a,isDisabled:t},n===c.a.PAUSE&&"Play",n===c.a.PLAY&&"Pause")})),C=n("./src/components/ui/atoms/flex_container/FlexContainer.tsx"),k=r.memo((function(){return r.createElement(C.a,{justifyContent:"center"},r.createElement(w,null))})),x=(n("./node_modules/core-js/modules/es.regexp.constructor.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.replace.js"),n("./node_modules/lodash-es/toString.js"));var A=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(o);++r<o;)s[r]=e[r+t];return s};var S=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:A(e,t,n)},T=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var P=function(e){return T.test(e)};var I=function(e){return e.split("")},D="[\\ud800-\\udfff]",L="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",M="\\ud83c[\\udffb-\\udfff]",R="[^\\ud800-\\udfff]",N="(?:\\ud83c[\\udde6-\\uddff]){2}",F="[\\ud800-\\udbff][\\udc00-\\udfff]",K="(?:"+L+"|"+M+")"+"?",B="[\\ufe0e\\ufe0f]?"+K+("(?:\\u200d(?:"+[R,N,F].join("|")+")[\\ufe0e\\ufe0f]?"+K+")*"),U="(?:"+[R+L+"?",L,N,F,D].join("|")+")",z=RegExp(M+"(?="+M+")|"+U+B,"g");var Y=function(e){return e.match(z)||[]};var q=function(e){return P(e)?Y(e):I(e)};var V=function(e){return function(t){t=Object(x.a)(t);var n=P(t)?q(t):void 0,r=n?n[0]:t.charAt(0),o=n?S(n,1).join(""):t.slice(1);return r[e]()+o}}("toUpperCase");var W,G=function(e){return V(Object(x.a)(e).toLowerCase())},H=n("./node_modules/polished/dist/polished.es.js"),X=Object(s.c)(C.a).withConfig({displayName:"FlexContainerWrap",componentId:"c3v3ql-0"})(["cursor:pointer;background-color:",";color:",";&:hover{background-color:",";}transition:border 0.3s;"],(function(e){var t=e.isActive;return Object(H.a)(.05,t?"#5588ff":"white")}),(function(e){return e.isActive?"white":"black"}),(function(e){var t=e.isActive;return Object(H.a)(.1,t?"#5588ff":"white")})),$=new RegExp(/\.mp3/g),J=r.memo((function(e){var t,n=r.useCallback((function(t){t.preventDefault(),e.setActiveIndex(e.index)}),[e.setActiveIndex,e.index]),o=r.useCallback((function(t){t.stopPropagation(),e.handleRemoveTrack(e.trackData)}),[e.handleRemoveTrack,e.trackData]);return r.createElement(X,{justifyContent:"space-between",onClick:n,isActive:e.isActive},r.createElement("span",null,(t=e.trackData.trackFile.name,G(t.replace($,"")))),r.createElement("button",{onClick:o},"remove"))})),Q=r.memo((function(e){var t=Object(o.useSelector)(u.o),n=Object(o.useSelector)(u.a),s=Object(o.useDispatch)(),a=r.useCallback((function(e){s(Object(y.r)(e))}),[]),c=r.useCallback((function(e){s(Object(y.G)(e))}),[]);return r.createElement("ul",null,t.map((function(e,t){return r.createElement("li",{key:e.trackFile.name},r.createElement(J,{isActive:n===t,index:t,setActiveIndex:a,trackData:e,handleRemoveTrack:c}))})))})),Z=s.c.input.withConfig({displayName:"HiddenInput",componentId:"sc-1631eh9-0"})(["display:none;"]),ee=r.forwardRef((function(e,t){var n=r.useCallback((function(t){e.handleChange(t)}),[e.handleChange]);return(r.createElement("label",null,e.children,r.createElement(Z,{ref:t,type:"file",onChange:n,accept:e.accept,multiple:e.multiple})))})),te=r.memo((function(e){var t=r.useRef(),n=Object(o.useDispatch)(),s=r.useCallback((function(){t.current.click()}),[]),a=r.useCallback((function(e){n(Object(y.q)(Array.from(e.target.files).map((function(e){return{trackFile:e,trackAudioBuffer:null}})))),e.target.value=null}),[]);return r.createElement(ee,{ref:t,handleChange:a,accept:".mp3",multiple:!0},r.createElement(E,{onClick:s},"Добавить трек"))})),ne=r.memo((function(){return r.createElement("div",null,r.createElement(te,null),r.createElement(Q,null))}));n("./node_modules/core-js/modules/es.string.big.js"),n("./node_modules/core-js/modules/es.string.small.js");!function(e){e[e.small=2]="small",e[e.medium=3]="medium",e[e.big=4]="big"}(W||(W={}));var re,oe=s.c.label.withConfig({displayName:"Label",componentId:"sc-1r8uzpg-0"})(["display:flex;"]),se=s.c.div.withConfig({displayName:"Container",componentId:"sc-1r8uzpg-1"})(["cursor:",";opacity:",";position:relative;width:","rem;height:","rem;border-radius:","rem;background-color:",';transition:background-color 0.25s ease-in-out,opacity 0.25 ease-in-out;&::after{content:" ";width:',"rem;height:","rem;background-color:blue;position:absolute;border-radius:","rem;box-shadow:0 2px 4px 0 rgba(0,35,11,0.2);background-color:#fff;transform:translate(",");transition:transform 0.25s ease-in-out;top:","rem;left:","rem;}"],(function(e){return e.isDisabled?"not-allowed":"pointer"}),(function(e){return e.isDisabled?.5:1}),(function(e){var t=e.sizeKey;return W[t]}),(function(e){var t=e.sizeKey;return W[t]/2}),(function(e){var t=e.sizeKey;return W[t]/2/2}),(function(e){return e.isChecked?"#5588ff":"#aaa"}),(function(e){var t=e.sizeKey;return W[t]/2-.2}),(function(e){var t=e.sizeKey;return W[t]/2-.2}),(function(e){var t=e.sizeKey;return(Number(W[t])-.2)/2/2}),(function(e){return e.isChecked?"100%":"0"}),.1,.2),ae=r.memo((function(e){var t,n=r.useCallback((function(t){e.isDisabled||e.onChange(!e.isChecked,e.value,t)}),[e.onChange,e.isChecked,e.isDisabled]);return r.createElement(oe,null,e.label,r.createElement(se,{sizeKey:null!==(t=e.size)&&void 0!==t?t:"medium",isChecked:e.isChecked,onClick:n,isDisabled:e.isDisabled}))})),ce=r.memo((function(e){var t=Object(o.useSelector)(u.g),n=Object(o.useDispatch)(),s=r.useCallback((function(e){n(Object(y.u)(e))}),[]);return r.createElement(ae,{label:"Использовать затухание",isChecked:t,onChange:s})})),ue=r.memo((function(e){var t=Object(o.useSelector)(u.a),n=Object(o.useSelector)(u.e),s=Object(o.useSelector)(u.m),a=Object(o.useSelector)(u.h),l=Object(o.useDispatch)();return r.useEffect((function(){if(s===c.a.PLAY){var e=performance.now();return function(){var t=performance.now()-e,r=a+t/1e3;n-r<.5&&(r=0),l(Object(y.v)(r))}}}),[s,t]),null})),le=n("./src/components/ui/molecules/trigger_on_get_audio_buffer/TriggerOnGetAudioBuffer.tsx"),ie=r.memo((function(e){var t=Object(o.useSelector)(u.d),n=Object(o.useSelector)(u.h),s=Object(o.useSelector)(u.m);return r.useEffect((function(){var n;(null==e?void 0:e.source)&&!(null==e||null===(n=e.source)||void 0===n?void 0:n.buffer)&&(e.source.buffer=t)}),[null==e?void 0:e.source,t]),r.useEffect((function(){s===c.a.PLAY&&e.source&&t&&e.source.start(0,n)}),[e.source,t,s]),null})),de=n("./src/constants/play_loop.ts"),me=r.memo((function(e){var t=Object(o.useSelector)(u.l),n=Object(o.useDispatch)();return r.useEffect((function(){if(e.source){var r=function(){t===de.a.NO_LOOP&&n(Object(y.z)(c.a.PAUSE)),t===de.a.ONE_LOOP&&n(Object(y.B)()),t===de.a.ALL_LOOP&&(n(Object(y.s)()),n(Object(y.B)()))};return e.source.addEventListener("ended",r),function(){e.source.removeEventListener("ended",r)}}}),[e.source,t]),null}));!function(e){e.PREV_TRACK="KeyK",e.NEXT_TRACK="KeyL",e.PLAY_PAUSE="Space",e.REMOVE_TRACK_ONE="Backspace",e.REMOVE_TRACK_TWO="Delete"}(re||(re={}));var fe=function(){var e=Object(o.useSelector)(u.a),t=Object(o.useSelector)(u.m),n=Object(o.useDispatch)();r.useEffect((function(){var r=function(r){var o=r.code;o===re.NEXT_TRACK&&n(Object(y.s)()),o===re.PREV_TRACK&&n(Object(y.t)()),o===re.PLAY_PAUSE&&(t===c.a.PAUSE&&n(Object(y.A)()),t===c.a.PLAY&&n(Object(y.z)(c.a.PAUSE))),o!==re.REMOVE_TRACK_ONE&&o!==re.REMOVE_TRACK_TWO||n(Object(y.G)(e))};return document.body.addEventListener("keydown",r),function(){document.body.removeEventListener("keydown",r)}}),[e,t])},pe=r.memo((function(){return fe(),null}));function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,s=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw s}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ve=s.c.div.withConfig({displayName:"VerticalRangeBlockContainer",componentId:"sc-10e1lcf-0"})(["position:absolute;top:0;left:0;background-color:rgba(0,0,0,0.25);width:100%;height:100px;transform:translate(0,-50%) scale(1,0);transition:transform 0.3s;"]),ye=s.c.div.withConfig({displayName:"VerticalRangeBlock",componentId:"sc-10e1lcf-1"})(["position:absolute;bottom:0;background-color:#5588ff;width:100%;height:0px;"]),ge=s.c.div.withConfig({displayName:"Container",componentId:"sc-10e1lcf-2"})(["background-color:rgba(0,0,0,0.25);height:30px;border-left:1px solid black;width:30px;position:relative;padding:0 5px;cursor:pointer;&:hover,&:focus,&:active{","{transform:translate(0,-100%) scale(1,1);}}transition:background-color 0.3s;"],ve),he=function(e,t,n,r,o,s){var a=n.current.clientHeight,c=(a-(r-o.getBoundingClientRect().top))/a;return c=Math.max(e,c),c=Math.min(t,c),c-=c%s},Oe=r.memo((function(e){var t=je(r.useState(null),2),n=t[0],o=t[1],s=je(r.useState(!1),2),c=s[0],u=s[1],l=r.useRef(),i=r.useRef(),d=r.useCallback((function(t){u(!0);var n,r=0;"touches"in t?r=(null===(n=t.touches)||void 0===n?void 0:n[0]).clientY:r=t.clientY;e.onChange(he(e.min,e.max,l,r,t.currentTarget,e.step))}),[e.onChange,e.min,e.max,e.step]),m=r.useCallback((function(e){u(!1)}),[]),f=r.useCallback((function(t){if(c){var n,r=0;if("touches"in t)r=(null===(n=t.touches)||void 0===n?void 0:n[0]).clientY;else r=t.clientY;e.onChange(he(e.min,e.max,l,r,t.currentTarget,e.step))}}),[c,e.onChange,e.min,e.max,e.step]);r.useEffect((function(){var t,n;i.current&&(i.current.style.height="".concat(100*(t=e.min,n=e.max,(e.value-t)/(n-t)),"px"))}),[e.value,e.max,e.min]);var p=r.useCallback((function(){e.value?(o(e.value),e.onChange(e.min)):Object(a.isNullOrUndefined)(n)||e.onChange(n)}),[e.onChange,e.value,n]);return(r.createElement(ge,null,r.createElement("span",{onClick:p},e.label),r.createElement(ve,{ref:l,onTouchStart:d,onMouseDown:d,onTouchMove:f,onMouseMove:f,onTouchEnd:m,onMouseUp:m,onMouseLeave:m},r.createElement(ye,{ref:i}))))})),_e=r.memo((function(e){var t=Object(o.useSelector)(u.q),n=Object(o.useDispatch)(),s=r.useCallback((function(e){n(Object(y.F)(e))}),[]);return r.createElement("label",null,r.createElement(Oe,{label:"vol",value:t,min:0,max:1,step:.01,onChange:s}))})),Ee=n("./src/components/ui/molecules/progress/Progress.tsx"),we=r.memo((function(e){var t=Object(o.useSelector)(u.l),n=Object(o.useDispatch)(),s=r.useCallback((function(){n(Object(y.y)(Object(b.b)(t)))}),[t]);return r.createElement(E,{onClick:s},t===de.a.NO_LOOP&&r.createElement("span",null,"no"),t===de.a.ALL_LOOP&&r.createElement("span",null,"all"),t===de.a.ONE_LOOP&&r.createElement("span",null,"one"))})),Ce=r.memo((function(){return r.createElement(C.a,null,r.createElement(Ee.a,null),r.createElement(_e,null),r.createElement(we,null))}));function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,s=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw s}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ae=Object(s.c)(C.a).withConfig({displayName:"FlexContainerWrap",componentId:"sc-1blpivp-0"})(["flex:1;"]),Se=function(){var e=ke(r.useState(256),1)[0],t=Object(o.useSelector)(u.h),n=Object(o.useSelector)(u.a),s=Object(o.useSelector)(u.m),l=v(s===c.a.PLAY&&!Object(a.isNull)(n),t,n);return r.createElement(Ae,{flexDirection:"column"},r.createElement(Ae,null,r.createElement("div",null,r.createElement(C.a,{flexDirection:"column"},r.createElement(O,null),r.createElement(h,{monoDataLength:e}),r.createElement(ce,null))),r.createElement("div",null,r.createElement(C.a,{alignItems:"center",justifyContent:"center"},r.createElement(j,{analyser:null==l?void 0:l.analyser,monoDataLength:e}))),r.createElement("div",null,r.createElement(C.a,null,r.createElement(ne,null)))),r.createElement(C.a,{justifyContent:"center"},r.createElement(k,null)),r.createElement(Ce,null),r.createElement(pe,null),r.createElement(me,{source:null==l?void 0:l.source}),r.createElement(ie,{source:null==l?void 0:l.source}),r.createElement(_,{gainNode:null==l?void 0:l.gainNode}),r.createElement(ue,null),r.createElement(le.a,null))},Te=n("./src/constants/animation_time.ts"),Pe=Object(s.c)(C.a).withConfig({displayName:"FlexContainerWrap",componentId:"sc-1y4ajer-0"})(["overflow:hidden;flex:",";opacity:",";transition:flex ","ms,opacity ","ms;"],(function(e){return e.isLoaded?"1":"0"}),(function(e){return e.isLoaded?"1":"0"}),Te.a,Te.a),Ie=r.memo((function(e){var t=Object(o.useSelector)(u.j),n=Object(o.useDispatch)();return r.useEffect((function(){n(Object(y.H)())}),[]),r.createElement(Pe,{isLoaded:t,flexDirection:"column"},r.createElement(Se,null))}));t.default=Ie},"./src/global/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var r,o=n("./src/constants/play_loop.ts"),s=function(){return r=r||new window.AudioContext},a=function(e){return o.b[e]}},"./src/utils/load_track.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/regenerator-runtime/runtime.js");var r=n("./src/global/index.ts");function o(e,t,n,r,o,s,a){try{var c=e[s](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var s=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){var s=new XMLHttpRequest;s.responseType="arraybuffer",s.open("GET",t,!0),s.onprogress=n,s.onreadystatechange=function(){4===s.readyState&&(200!==s.status?alert(s.status+": "+s.statusText):Object(r.a)().decodeAudioData(s.response,(function(t){return e(t)})))},s.send()})));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function c(e){o(a,r,s,c,u,"next",e)}function u(e){o(a,r,s,c,u,"throw",e)}c(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();t.a=s},"./src/utils/time.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.string.pad-start.js");var r=function(e){return e.toString().padStart(2,"0")},o=function(e){var t=r(function(e){return Math.floor(e/60)}(e)),n=r(function(e){return Math.floor(e%60)}(e));return"".concat(t,":").concat(n)}}}]);