(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"./node_modules/setimmediate/setImmediate.js":function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,s,a,c,i=1,u={},l=!1,d=e.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){s.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",c=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent("onmessage",c),r=function(t){e.postMessage(a+t,"*")}),m.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return u[i]=o,r(i),i++},m.clearImmediate=f}function f(e){delete u[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/process/browser.js"))},"./node_modules/timers-browserify/main.js":function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function s(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new s(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new s(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("./node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/components/ui/molecules/progress/Progress.tsx":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/web.immediate.js");var r=n("./node_modules/react/index.js"),o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=n("./node_modules/vs-react-store/lib/index.js"),a=n("./src/store/selectors.ts"),c=n("./src/constants/play_state.ts"),i=n("./src/utils/time.ts"),u=n("./src/store/actions.ts"),l=o.c.div.withConfig({displayName:"Container",componentId:"sc-1x3ww3w-0"})(["position:relative;width:100%;height:30px;cursor:pointer;background-color:rgba(0,0,0,0.25);"]),d=o.c.div.withConfig({displayName:"TextPlashkaContainer",componentId:"sc-1x3ww3w-1"})(["position:absolute;top:50%;transform:translate(0,-50%) scale(1,",");left:0;right:0;height:100%;display:flex;justify-content:space-between;align-items:flex-end;padding:0.15rem 10px;color:white;pointer-events:none;transition:transform 0.3s;"],(function(e){return e.isVisible?1:0})),m=o.c.div.withConfig({displayName:"Status",componentId:"sc-1x3ww3w-2"})(["height:100%;width:0px;background-color:#5588ff;"]),f=r.memo((function(t){var n=r.useRef(),o=r.useRef(),f=r.useRef(),p=Object(s.useDispatch)(),b=Object(s.useSelector)(a.m),j=Object(s.useSelector)(a.h),h=Object(s.useSelector)(a.e);r.useEffect((function(){var e=null,t=performance.now();return function r(s){b===c.a.PLAY&&(e=requestAnimationFrame(r)),function(e,t,n,r,o){var s="".concat(Math.round(n/t*e),"px");s!==r.style.width&&(r.style.width=s);var a=Object(i.a)(n);a!==o.innerText&&(o.innerText=a)}(f.current.clientWidth,h,(s-t)/1e3+j,o.current,n.current)}(t),function(){e&&cancelAnimationFrame(e)}}),[b,j]);var v=r.useCallback((function(t){if(h){var n=f.current.clientWidth,r=(t.screenX-t.currentTarget.getBoundingClientRect().left)/n,o=h*r,s=b===c.a.PLAY;s&&p(Object(u.z)(c.a.PAUSE)),e((function(){p(Object(u.v)(o)),s&&p(Object(u.z)(c.a.PLAY))}))}}),[h,b]);return(r.createElement(l,{ref:f,onClick:v},r.createElement(m,{ref:o}),r.createElement(d,{isVisible:Boolean(h)},r.createElement("span",{ref:n},Object(i.a)(0)),r.createElement("span",null,Object(i.a)(h)))))}));t.a=f}).call(this,n("./node_modules/timers-browserify/main.js").setImmediate)},"./src/components/ui/molecules/trigger_on_get_audio_buffer/TriggerOnGetAudioBuffer.tsx":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.array.for-each.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),n("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),n("./node_modules/core-js/modules/es.object.keys.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/web.immediate.js"),n("./node_modules/core-js/modules/web.url.js"),n("./node_modules/regenerator-runtime/runtime.js");var r=n("./node_modules/react/index.js"),o=n("./node_modules/vs-react-store/lib/index.js"),s=n("./src/store/selectors.ts"),a=n("./src/store/actions.ts"),c=n("./src/utils/load_track.ts");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,s,a){try{var c=e[s](a),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function a(e){d(s,r,o,a,c,"next",e)}function c(e){d(s,r,o,a,c,"throw",e)}a(void 0)}))}}var f=r.memo((function(){var t=Object(o.useSelector)(s.c),n=Object(o.useDispatch)();return r.useEffect((function(){if((null==t?void 0:t.trackFile)&&!t.trackAudioBuffer){var r=window.URL.createObjectURL(t.trackFile);n(Object(a.C)()),e(m(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)(r,(function(e){n(Object(a.w)(e.loaded,e.total))}));case 2:o=e.sent,n(Object(a.D)(t,u({},t,{trackAudioBuffer:o})));case 4:case"end":return e.stop()}}),e)}))))}}),[t]),null}));t.a=f}).call(this,n("./node_modules/timers-browserify/main.js").setImmediate)},"./src/components/ui/templates/player_control/PlayerControlWrap.tsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n("./node_modules/vs-react-store/lib/index.js"),s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=(n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/util/util.js")),c=n("./src/constants/play_state.ts"),i=(n("./node_modules/core-js/modules/es.array.every.js"),n("./node_modules/core-js/modules/es.array.fill.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/es.array-buffer.slice.js"),n("./node_modules/core-js/modules/es.typed-array.uint8-array.js"),n("./node_modules/core-js/modules/es.typed-array.copy-within.js"),n("./node_modules/core-js/modules/es.typed-array.every.js"),n("./node_modules/core-js/modules/es.typed-array.fill.js"),n("./node_modules/core-js/modules/es.typed-array.filter.js"),n("./node_modules/core-js/modules/es.typed-array.find.js"),n("./node_modules/core-js/modules/es.typed-array.find-index.js"),n("./node_modules/core-js/modules/es.typed-array.for-each.js"),n("./node_modules/core-js/modules/es.typed-array.includes.js"),n("./node_modules/core-js/modules/es.typed-array.index-of.js"),n("./node_modules/core-js/modules/es.typed-array.iterator.js"),n("./node_modules/core-js/modules/es.typed-array.join.js"),n("./node_modules/core-js/modules/es.typed-array.last-index-of.js"),n("./node_modules/core-js/modules/es.typed-array.map.js"),n("./node_modules/core-js/modules/es.typed-array.reduce.js"),n("./node_modules/core-js/modules/es.typed-array.reduce-right.js"),n("./node_modules/core-js/modules/es.typed-array.reverse.js"),n("./node_modules/core-js/modules/es.typed-array.set.js"),n("./node_modules/core-js/modules/es.typed-array.slice.js"),n("./node_modules/core-js/modules/es.typed-array.some.js"),n("./node_modules/core-js/modules/es.typed-array.sort.js"),n("./node_modules/core-js/modules/es.typed-array.subarray.js"),n("./node_modules/core-js/modules/es.typed-array.to-locale-string.js"),n("./node_modules/core-js/modules/es.typed-array.to-string.js"),n("./src/store/selectors.ts")),u=s.c.canvas.withConfig({displayName:"Canvas",componentId:"sc-1wb9nh4-0"})(["width:100%;height:100%;"]);function l(e){var t=e.clientWidth,n=e.clientHeight;e.width==t&&e.height==n||(e.width=t,e.height=n)}var d=function(e){return function(t,n,r,o,s){return e(n,r,s)*function(e,t){return Math.min(t-10,Math.max(0,t/2-Math.floor((e-128)/256*t)))}(o,t)}},m=d((function(e,t,n){return Math.cos(n+2*Math.PI/t*e)})),f=d((function(e,t,n){return Math.sin(n+2*Math.PI/t*e)})),p=function(e,t,n,r,o,s,a,c){var i=t*(2*r),u=Math.pow(2,o);e.strokeStyle="#000000",e.lineWidth=2,e.fillStyle="#FFFFFF",e.fillRect(0,0,a,c),e.beginPath();for(var l=0,d=0,p=1,b=0;b<i;b+=1){var j=b%t;if(0===j&&(p=(p+1)%2),d+=n[p?t-1-j:j],(b+1)%u==0){l=d/u,d=0;for(var h=b-u;h<b;h++){var v=a/2+m(Math.min(c,a)/2,h,i,l,0),g=c/2+f(Math.min(c,a)/2,h,i,l,0);0===b?e.moveTo(v,g):e.lineTo(v,g)}}}e.closePath(),e.stroke()},b=new Array(256).fill(512),j=r.memo((function(e){var t=r.useRef(),n=Object(o.useSelector)(i.r),s=Object(o.useSelector)(i.k),d=Object(o.useSelector)(i.q),m=Object(o.useSelector)(i.g),f=Object(o.useSelector)(i.m);return r.useEffect((function(){var n=t.current;if(e.analyser&&f===c.a.PLAY){e.analyser.fftSize=2*e.monoDataLength;var r=e.analyser.frequencyBinCount,o=new Uint8Array(r);e.analyser.getByteTimeDomainData(o);var i=null;return function t(){l(n),i=requestAnimationFrame(t),e.analyser.getByteTimeDomainData(o);var r=b.map((function(e,t){return m?function(e,t,n,r){if(r!==n){var o=(t+e)/2,s=r-n,a=Math.abs(s),c=s/a,i=5*Math.floor(a/256*100)/100+1;return n+Math.max(o-n,Math.abs(s/Math.pow(2,2*i)))*c}return r}(0,256,e,o[t]):o[t]}));b=r;var a=n.getContext("2d");p(a,e.monoDataLength,r,s,d,0,n.width,n.height)}(),function(){Object(a.isNull)(i)||cancelAnimationFrame(i)}}var u=null,j=performance.now();return function t(r){l(n),u=requestAnimationFrame(t);var o=(r-j)/5,a=b.map((function(e){return e>128?Math.max(128,e-o):e<128?Math.min(128,e+o):e})),c=n.getContext("2d");p(c,e.monoDataLength,a,s,d,0,n.width,n.height),a.every((function(e){return 128===e}))&&cancelAnimationFrame(u)}(performance.now()),function(){Object(a.isNull)(u)||cancelAnimationFrame(u)}}),[e.analyser,f,n,s,d,m]),r.createElement(u,{ref:t})})),h=(n("./node_modules/core-js/modules/es.array.concat.js"),n("./src/global/index.ts")),v=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var s=r.useMemo((function(){if(e){var t=Object(h.a)(),n=t.createBufferSource(),r=t.createAnalyser(),o=t.createGain();return n.connect(r),r.connect(o),o.connect(t.destination),{source:n,gainNode:o,analyser:r}}return null}),[e].concat(n));return r.useEffect((function(){return function(){var e=Object(h.a)();try{s.source.disconnect(s.analyser),s.analyser.disconnect(s.gainNode),s.gainNode.disconnect(e.destination),s.source.buffer&&s.source.stop()}catch(e){}}}),[s]),s},g=(n("./node_modules/core-js/modules/es.math.log2.js"),n("./node_modules/core-js/modules/es.number.constructor.js"),n("./src/store/actions.ts")),y=r.memo((function(e){var t=r.useCallback((function(t){e.onChange(Number(t.target.value))}),[e.onChange]),n=r.useMemo((function(){var t=[];if(e.generateRange)t=e.generateRange();else for(var n=e.rangeFrom;n<=e.rangeTo;n+=e.rangeStep)t.push(n);return t}),[e.rangeFrom,e.rangeTo,e.rangeStep]);return r.createElement("label",null,e.label,r.createElement("select",{onChange:t,value:e.value},n.map((function(e){return r.createElement("option",{key:e,value:e},e)}))))})),O=r.memo((function(e){var t=Object(o.useSelector)(i.q),n=Object(o.useDispatch)(),s=r.useCallback((function(e){var t,r;n(Object(g.E)(Number(null!==(t=null==e||null===(r=e.target)||void 0===r?void 0:r.value)&&void 0!==t?t:e)))}),[]);return r.createElement(y,{label:"Количество объединений",rangeFrom:0,rangeTo:Math.log2(e.monoDataLength)-1,rangeStep:1,onChange:s,value:t})})),w=r.memo((function(e){var t=Object(o.useSelector)(i.k),n=Object(o.useDispatch)(),s=r.useCallback((function(e){n(Object(g.x)(e/2))}),[]);return r.createElement(y,{label:"Количество повторений",rangeFrom:2,rangeTo:20,rangeStep:2,onChange:s,value:2*t})})),_=r.memo((function(e){var t=Object(o.useSelector)(i.r);return r.useEffect((function(){e.gainNode&&(e.gainNode.gain.value=t)}),[e.gainNode,t]),null})),E=r.memo((function(e){return r.createElement("button",{onClick:e.onClick,disabled:e.isDisabled},e.children)})),C=r.memo((function(e){var t=Object(o.useSelector)(i.f),n=Object(o.useSelector)(i.m),s=Object(o.useDispatch)(),a=r.useCallback((function(){t||(n===c.a.PAUSE&&s(Object(g.A)()),n===c.a.PLAY&&s(Object(g.z)(c.a.PAUSE)))}),[t,n]);return r.createElement(E,{onClick:a,isDisabled:t},n===c.a.PAUSE&&"Play",n===c.a.PLAY&&"Pause")})),x=n("./src/components/ui/atoms/flex_container/FlexContainer.tsx"),k=r.memo((function(){return r.createElement(x.a,{justifyContent:"center"},r.createElement(C,null))})),A=(n("./node_modules/core-js/modules/es.regexp.constructor.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.replace.js"),n("./node_modules/lodash-es/toString.js"));var S=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(o);++r<o;)s[r]=e[r+t];return s};var T=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:S(e,t,n)},P=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var I=function(e){return P.test(e)};var D=function(e){return e.split("")},M="[\\ud800-\\udfff]",L="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",N="\\ud83c[\\udffb-\\udfff]",R="[^\\ud800-\\udfff]",F="(?:\\ud83c[\\udde6-\\uddff]){2}",K="[\\ud800-\\udbff][\\udc00-\\udfff]",z="(?:"+L+"|"+N+")"+"?",B="[\\ufe0e\\ufe0f]?"+z+("(?:\\u200d(?:"+[R,F,K].join("|")+")[\\ufe0e\\ufe0f]?"+z+")*"),U="(?:"+[R+L+"?",L,F,K,M].join("|")+")",Y=RegExp(N+"(?="+N+")|"+U+B,"g");var W=function(e){return e.match(Y)||[]};var V=function(e){return I(e)?W(e):D(e)};var q=function(e){return function(t){t=Object(A.a)(t);var n=I(t)?V(t):void 0,r=n?n[0]:t.charAt(0),o=n?T(n,1).join(""):t.slice(1);return r[e]()+o}}("toUpperCase");var G,H=function(e){return q(Object(A.a)(e).toLowerCase())},X=n("./node_modules/polished/dist/polished.es.js"),$=Object(s.c)(x.a).withConfig({displayName:"FlexContainerWrap",componentId:"c3v3ql-0"})(["cursor:pointer;background-color:",";color:",";&:hover{background-color:",";}transition:border 0.3s;"],(function(e){var t=e.isActive;return Object(X.a)(.05,t?"#5588ff":"white")}),(function(e){return e.isActive?"white":"black"}),(function(e){var t=e.isActive;return Object(X.a)(.1,t?"#5588ff":"white")})),J=new RegExp(/\.mp3/g),Q=r.memo((function(e){var t,n=r.useCallback((function(t){t.preventDefault(),e.setActiveIndex(e.index)}),[e.setActiveIndex,e.index]),o=r.useCallback((function(t){t.stopPropagation(),e.handleRemoveTrack(e.trackData)}),[e.handleRemoveTrack,e.trackData]);return r.createElement($,{justifyContent:"space-between",onClick:n,isActive:e.isActive},r.createElement("span",null,(t=e.trackData.trackFile.name,H(t.replace(J,"")))),r.createElement("button",{onClick:o},"remove"))})),Z=r.memo((function(e){var t=Object(o.useSelector)(i.p),n=Object(o.useSelector)(i.a),s=Object(o.useDispatch)(),a=r.useCallback((function(e){s(Object(g.r)(e))}),[]),c=r.useCallback((function(e){s(Object(g.G)(e))}),[]);return r.createElement("ul",null,t.map((function(e,t){return r.createElement("li",{key:e.trackFile.name},r.createElement(Q,{isActive:n===t,index:t,setActiveIndex:a,trackData:e,handleRemoveTrack:c}))})))})),ee=s.c.input.withConfig({displayName:"HiddenInput",componentId:"sc-1631eh9-0"})(["display:none;"]),te=r.forwardRef((function(e,t){var n=r.useCallback((function(t){e.handleChange(t)}),[e.handleChange]);return(r.createElement("label",null,e.children,r.createElement(ee,{ref:t,type:"file",onChange:n,accept:e.accept,multiple:e.multiple})))})),ne=r.memo((function(e){var t=r.useRef(),n=Object(o.useDispatch)(),s=r.useCallback((function(){t.current.click()}),[]),a=r.useCallback((function(e){n(Object(g.q)(Array.from(e.target.files).map((function(e){return{trackFile:e,trackAudioBuffer:null}})))),e.target.value=null}),[]);return r.createElement(te,{ref:t,handleChange:a,accept:".mp3",multiple:!0},r.createElement(E,{onClick:s},"Добавить трек"))})),re=r.memo((function(){return r.createElement("div",null,r.createElement(ne,null),r.createElement(Z,null))}));n("./node_modules/core-js/modules/es.string.big.js"),n("./node_modules/core-js/modules/es.string.small.js");!function(e){e[e.small=2]="small",e[e.medium=3]="medium",e[e.big=4]="big"}(G||(G={}));var oe,se=s.c.label.withConfig({displayName:"Label",componentId:"sc-1r8uzpg-0"})(["display:flex;"]),ae=s.c.div.withConfig({displayName:"Container",componentId:"sc-1r8uzpg-1"})(["cursor:",";opacity:",";position:relative;width:","rem;height:","rem;border-radius:","rem;background-color:",';transition:background-color 0.25s ease-in-out,opacity 0.25 ease-in-out;&::after{content:" ";width:',"rem;height:","rem;background-color:blue;position:absolute;border-radius:","rem;box-shadow:0 2px 4px 0 rgba(0,35,11,0.2);background-color:#fff;transform:translate(",");transition:transform 0.25s ease-in-out;top:","rem;left:","rem;}"],(function(e){return e.isDisabled?"not-allowed":"pointer"}),(function(e){return e.isDisabled?.5:1}),(function(e){var t=e.sizeKey;return G[t]}),(function(e){var t=e.sizeKey;return G[t]/2}),(function(e){var t=e.sizeKey;return G[t]/2/2}),(function(e){return e.isChecked?"#5588ff":"#aaa"}),(function(e){var t=e.sizeKey;return G[t]/2-.2}),(function(e){var t=e.sizeKey;return G[t]/2-.2}),(function(e){var t=e.sizeKey;return(Number(G[t])-.2)/2/2}),(function(e){return e.isChecked?"100%":"0"}),.1,.2),ce=r.memo((function(e){var t,n=r.useCallback((function(t){e.isDisabled||e.onChange(!e.isChecked,e.value,t)}),[e.onChange,e.isChecked,e.isDisabled]);return r.createElement(se,null,e.label,r.createElement(ae,{sizeKey:null!==(t=e.size)&&void 0!==t?t:"medium",isChecked:e.isChecked,onClick:n,isDisabled:e.isDisabled}))})),ie=r.memo((function(e){var t=Object(o.useSelector)(i.g),n=Object(o.useDispatch)(),s=r.useCallback((function(e){n(Object(g.u)(e))}),[]);return r.createElement(ce,{label:"Использовать затухание",isChecked:t,onChange:s})})),ue=r.memo((function(e){var t=Object(o.useSelector)(i.a),n=Object(o.useSelector)(i.e),s=Object(o.useSelector)(i.m),a=Object(o.useSelector)(i.h),u=Object(o.useDispatch)();return r.useEffect((function(){if(s===c.a.PLAY){var e=performance.now();return function(){var t=performance.now()-e,r=a+t/1e3;n-r<.5&&(r=0),u(Object(g.v)(r))}}}),[s,t]),null})),le=n("./src/components/ui/molecules/trigger_on_get_audio_buffer/TriggerOnGetAudioBuffer.tsx"),de=r.memo((function(e){var t=Object(o.useSelector)(i.d),n=Object(o.useSelector)(i.h),s=Object(o.useSelector)(i.m);return r.useEffect((function(){var n;(null==e?void 0:e.source)&&!(null==e||null===(n=e.source)||void 0===n?void 0:n.buffer)&&(e.source.buffer=t)}),[null==e?void 0:e.source,t]),r.useEffect((function(){s===c.a.PLAY&&e.source&&t&&e.source.start(0,n)}),[e.source,t,s]),null})),me=n("./src/constants/play_loop.ts"),fe=r.memo((function(e){var t=Object(o.useSelector)(i.l),n=Object(o.useDispatch)();return r.useEffect((function(){if(e.source){var r=function(){t===me.a.NO_LOOP&&n(Object(g.z)(c.a.PAUSE)),t===me.a.ONE_LOOP&&n(Object(g.B)()),t===me.a.ALL_LOOP&&(n(Object(g.s)()),n(Object(g.B)()))};return e.source.addEventListener("ended",r),function(){e.source.removeEventListener("ended",r)}}}),[e.source,t]),null}));!function(e){e.PREV_TRACK="KeyK",e.NEXT_TRACK="KeyL",e.PLAY_PAUSE="Space",e.REMOVE_TRACK_ONE="Backspace",e.REMOVE_TRACK_TWO="Delete"}(oe||(oe={}));var pe=function(){var e=Object(o.useSelector)(i.a),t=Object(o.useSelector)(i.m),n=Object(o.useDispatch)();r.useEffect((function(){var r=function(r){var o=r.code;o===oe.NEXT_TRACK&&n(Object(g.s)()),o===oe.PREV_TRACK&&n(Object(g.t)()),o===oe.PLAY_PAUSE&&(t===c.a.PAUSE&&n(Object(g.A)()),t===c.a.PLAY&&n(Object(g.z)(c.a.PAUSE))),o!==oe.REMOVE_TRACK_ONE&&o!==oe.REMOVE_TRACK_TWO||n(Object(g.G)(e))};return document.body.addEventListener("keydown",r),function(){document.body.removeEventListener("keydown",r)}}),[e,t])},be=r.memo((function(){return pe(),null}));function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,s=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw s}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ve=s.c.div.withConfig({displayName:"VerticalRangeBlockContainer",componentId:"sc-10e1lcf-0"})(["position:absolute;top:0;left:0;background-color:rgba(0,0,0,0.25);width:100%;height:100px;transform:translate(0,-50%) scale(1,0);transition:transform 0.3s;"]),ge=s.c.div.withConfig({displayName:"VerticalRangeBlock",componentId:"sc-10e1lcf-1"})(["position:absolute;bottom:0;background-color:#5588ff;width:100%;height:0px;"]),ye=s.c.div.withConfig({displayName:"Container",componentId:"sc-10e1lcf-2"})(["background-color:rgba(0,0,0,0.25);height:30px;border-left:1px solid black;width:30px;position:relative;padding:0 5px;cursor:pointer;&:hover,&:focus,&:active{","{transform:translate(0,-100%) scale(1,1);}}transition:background-color 0.3s;"],ve),Oe=function(e,t,n,r,o,s){var a=n.current.clientHeight,c=(a-(r-o.getBoundingClientRect().top))/a;return c=Math.max(e,c),c=Math.min(t,c),c-=c%s},we=r.memo((function(e){var t=je(r.useState(null),2),n=t[0],o=t[1],s=je(r.useState(!1),2),c=s[0],i=s[1],u=r.useRef(),l=r.useRef(),d=r.useCallback((function(t){i(!0);var n,r=0;"touches"in t?r=(null===(n=t.touches)||void 0===n?void 0:n[0]).clientY:r=t.clientY;e.onChange(Oe(e.min,e.max,u,r,t.currentTarget,e.step))}),[e.onChange,e.min,e.max,e.step]),m=r.useCallback((function(e){i(!1)}),[]),f=r.useCallback((function(t){if(c){var n,r=0;if("touches"in t)r=(null===(n=t.touches)||void 0===n?void 0:n[0]).clientY;else r=t.clientY;e.onChange(Oe(e.min,e.max,u,r,t.currentTarget,e.step))}}),[c,e.onChange,e.min,e.max,e.step]);r.useEffect((function(){var t,n;l.current&&(l.current.style.height="".concat(100*(t=e.min,n=e.max,(e.value-t)/(n-t)),"px"))}),[e.value,e.max,e.min]);var p=r.useCallback((function(){e.value?(o(e.value),e.onChange(e.min)):Object(a.isNullOrUndefined)(n)||e.onChange(n)}),[e.onChange,e.value,n]);return(r.createElement(ye,null,r.createElement("span",{onClick:p},e.label),r.createElement(ve,{ref:u,onTouchStart:d,onMouseDown:d,onTouchMove:f,onMouseMove:f,onTouchEnd:m,onMouseUp:m,onMouseLeave:m},r.createElement(ge,{ref:l}))))})),_e=r.memo((function(e){var t=Object(o.useSelector)(i.r),n=Object(o.useDispatch)(),s=r.useCallback((function(e){n(Object(g.F)(e))}),[]);return r.createElement("label",null,r.createElement(we,{label:"vol",value:t,min:0,max:1,step:.01,onChange:s}))})),Ee=n("./src/components/ui/molecules/progress/Progress.tsx"),Ce=r.memo((function(e){var t=Object(o.useSelector)(i.l),n=Object(o.useDispatch)(),s=r.useCallback((function(){n(Object(g.y)(Object(h.b)(t)))}),[t]);return r.createElement(E,{onClick:s},t===me.a.NO_LOOP&&r.createElement("span",null,"no"),t===me.a.ALL_LOOP&&r.createElement("span",null,"all"),t===me.a.ONE_LOOP&&r.createElement("span",null,"one"))})),xe=r.memo((function(){return r.createElement(x.a,null,r.createElement(Ee.a,null),r.createElement(_e,null),r.createElement(Ce,null))})),ke=s.c.div.withConfig({displayName:"Flex",componentId:"sc-1v8e4cu-0"})(["flex-basis:",";flex-grow:",";flex-shrink:",";"],(function(e){var t=e.basis;return null!=t?t:"initial"}),(function(e){var t=e.grow;return null!=t?t:"initial"}),(function(e){var t=e.shrink;return null!=t?t:"initial"})),Ae=n("./src/constants/animation_time.ts"),Se=n("./src/constants/color.ts"),Te=s.c.div.withConfig({displayName:"Container",componentId:"sc-6oe669-0"})(["height:100%;display:flex;flex-direction:column;position:relative;",";",";transition:transform ","ms;"],(function(e){var t=e.position,n=e.isOpen;return"left"===t&&function(e){return Object(s.b)(["transform:translate(",");&:hover{transform:translate(0%);}"],e?"0%":"calc(-100% + 50px)")}(n)}),(function(e){var t=e.position,n=e.isOpen;return"right"===t&&function(e){return Object(s.b)(["transform:translate(",");&:hover{transform:translate(0%);}"],e?"0%":"calc(100% - 50px)")}(n)}),Ae.a),Pe=s.c.div.withConfig({displayName:"ChildrenWrap",componentId:"sc-6oe669-1"})(["flex:1;margin:20px 0;border:1px solid black;"]),Ie=Object(s.c)(x.a).withConfig({displayName:"FlexContainerWrap",componentId:"sc-6oe669-2"})(["height:100%;"]),De=s.c.div.withConfig({displayName:"Plashka",componentId:"sc-6oe669-3"})(["width:50px;height:100%;background-color:",";word-break:break-all;font-size:3rem;color:white;text-align:center;"],Se.a),Me=r.memo((function(e){return r.createElement(Te,{position:e.position,isOpen:e.isManual?e.isOpen:void 0},r.createElement(Pe,null,r.createElement(Ie,{flexDirection:"right"===e.position?"row":"row-reverse"},r.createElement(ke,{shrink:0},r.createElement(De,null,e.title)),r.createElement(ke,{grow:1},e.children))))}));function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,s=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw s}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Re=Object(s.c)(x.a).withConfig({displayName:"FlexContainerWrap",componentId:"sc-1blpivp-0"})(["width:100%;flex:1;"]),Fe=Object(s.c)(x.a).withConfig({displayName:"FlexContainerFullHeight",componentId:"sc-1blpivp-1"})(["width:100%;height:100%;flex:1;"]),Ke=function(){var e=Le(r.useState(256),1)[0],t=Object(o.useSelector)(i.h),n=Object(o.useSelector)(i.a),s=Object(o.useSelector)(i.m),u=Object(o.useSelector)(i.o),l=v(s===c.a.PLAY&&!Object(a.isNull)(n),t,n);return r.createElement(Re,{flexDirection:"column"},r.createElement(Re,null,r.createElement(ke,{basis:"500px"},r.createElement(Me,{position:"left"},r.createElement(x.a,{flexDirection:"column"},r.createElement(w,null),r.createElement(O,{monoDataLength:e}),r.createElement(ie,null)))),r.createElement(ke,{basis:"900px",grow:1},r.createElement(Fe,{alignItems:"center",justifyContent:"center"},r.createElement(j,{analyser:null==l?void 0:l.analyser,monoDataLength:e}))),r.createElement(ke,{basis:"500px"},r.createElement(Me,{position:"right",isManual:u,isOpen:u},r.createElement(x.a,null,r.createElement(re,null))))),r.createElement(x.a,{justifyContent:"center"},r.createElement(k,null)),r.createElement(xe,null),r.createElement(be,null),r.createElement(fe,{source:null==l?void 0:l.source}),r.createElement(de,{source:null==l?void 0:l.source}),r.createElement(_,{gainNode:null==l?void 0:l.gainNode}),r.createElement(ue,null),r.createElement(le.a,null))},ze=Object(s.c)(x.a).withConfig({displayName:"FlexContainerWrap",componentId:"sc-1y4ajer-0"})(["overflow:hidden;width:100%;flex:",";opacity:",";transition:flex ","ms,opacity ","ms;"],(function(e){return e.isLoaded?"1":"0"}),(function(e){return e.isLoaded?"1":"0"}),Ae.a,2*Ae.a),Be=r.memo((function(e){var t=Object(o.useSelector)(i.j),n=Object(o.useDispatch)();return r.useEffect((function(){n(Object(g.H)())}),[]),r.createElement(ze,{isLoaded:t,flexDirection:"column"},r.createElement(Ke,null))}));t.default=Be},"./src/global/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var r,o=n("./src/constants/play_loop.ts"),s=function(){return r=r||new window.AudioContext},a=function(e){return o.b[e]}},"./src/utils/load_track.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/regenerator-runtime/runtime.js");var r=n("./src/global/index.ts");function o(e,t,n,r,o,s,a){try{var c=e[s](a),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}var s=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){var s=new XMLHttpRequest;s.responseType="arraybuffer",s.open("GET",t,!0),s.onprogress=n,s.onreadystatechange=function(){4===s.readyState&&(200!==s.status?alert(s.status+": "+s.statusText):Object(r.a)().decodeAudioData(s.response,(function(t){return e(t)})))},s.send()})));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function c(e){o(a,r,s,c,i,"next",e)}function i(e){o(a,r,s,c,i,"throw",e)}c(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();t.a=s},"./src/utils/time.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.string.pad-start.js");var r=function(e){return e.toString().padStart(2,"0")},o=function(e){var t=r(function(e){return Math.floor(e/60)}(e)),n=r(function(e){return Math.floor(e%60)}(e));return"".concat(t,":").concat(n)}}}]);