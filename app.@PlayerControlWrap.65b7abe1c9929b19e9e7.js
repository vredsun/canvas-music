(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"./node_modules/setimmediate/setImmediate.js":function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,a,s,c,i=1,u={},l=!1,d=e.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){a.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(s="setImmediate$"+Math.random()+"$",c=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent("onmessage",c),r=function(t){e.postMessage(s+t,"*")}),m.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return u[i]=o,r(i),i++},m.clearImmediate=f}function f(e){delete u[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/process/browser.js"))},"./node_modules/timers-browserify/main.js":function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("./node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/components/ui/molecules/progress/Progress.tsx":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/web.immediate.js");var r=n("./node_modules/react/index.js"),o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("./node_modules/vs-react-store/lib/index.js"),s=n("./src/store/selectors.ts"),c=n("./src/constants/play_state.ts"),i=n("./src/utils/time.ts"),u=n("./src/store/actions.ts"),l=o.c.div.withConfig({displayName:"Container",componentId:"sc-1x3ww3w-0"})(["position:relative;width:100%;height:30px;cursor:pointer;background-color:rgba(0,0,0,0.25);"]),d=o.c.div.withConfig({displayName:"TextPlashkaContainer",componentId:"sc-1x3ww3w-1"})(["position:absolute;top:50%;transform:translate(0,-50%) scale(1,",");left:0;right:0;height:100%;display:flex;justify-content:space-between;align-items:flex-end;padding:0.15rem 10px;color:white;pointer-events:none;transition:transform 0.3s;"],(function(e){return e.isVisible?1:0})),m=o.c.div.withConfig({displayName:"Status",componentId:"sc-1x3ww3w-2"})(["height:100%;width:0px;background-color:#5588ff;"]),f=r.memo((function(t){var n=r.useRef(),o=r.useRef(),f=r.useRef(),p=Object(a.useDispatch)(),b=Object(a.useSelector)(s.m),j=Object(a.useSelector)(s.h),h=Object(a.useSelector)(s.e);r.useEffect((function(){var e=null,t=performance.now();return function r(a){b===c.a.PLAY&&(e=requestAnimationFrame(r)),function(e,t,n,r,o){var a="".concat(Math.round(n/t*e),"px");a!==r.style.width&&(r.style.width=a);var s=Object(i.a)(n);s!==o.innerText&&(o.innerText=s)}(f.current.clientWidth,h,(a-t)/1e3+j,o.current,n.current)}(t),function(){e&&cancelAnimationFrame(e)}}),[b,j]);var v=r.useCallback((function(t){if(h){var n=f.current.clientWidth,r=(t.screenX-t.currentTarget.getBoundingClientRect().left)/n,o=h*r,a=b===c.a.PLAY;a&&p(Object(u.z)(c.a.PAUSE)),e((function(){p(Object(u.v)(o)),a&&p(Object(u.z)(c.a.PLAY))}))}}),[h,b]);return(r.createElement(l,{ref:f,onClick:v},r.createElement(m,{ref:o}),r.createElement(d,{isVisible:Boolean(h)},r.createElement("span",{ref:n},Object(i.a)(0)),r.createElement("span",null,Object(i.a)(h)))))}));t.a=f}).call(this,n("./node_modules/timers-browserify/main.js").setImmediate)},"./src/components/ui/molecules/trigger_on_get_audio_buffer/TriggerOnGetAudioBuffer.tsx":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.array.for-each.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),n("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),n("./node_modules/core-js/modules/es.object.keys.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/web.immediate.js"),n("./node_modules/core-js/modules/web.url.js"),n("./node_modules/regenerator-runtime/runtime.js");var r=n("./node_modules/react/index.js"),o=n("./node_modules/vs-react-store/lib/index.js"),a=n("./src/store/selectors.ts"),s=n("./src/store/actions.ts"),c=n("./src/utils/load_track.ts");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,a,s){try{var c=e[a](s),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){d(a,r,o,s,c,"next",e)}function c(e){d(a,r,o,s,c,"throw",e)}s(void 0)}))}}var f=r.memo((function(){var t=Object(o.useSelector)(a.c),n=Object(o.useDispatch)();return r.useEffect((function(){if((null==t?void 0:t.trackFile)&&!t.trackAudioBuffer){var r=window.URL.createObjectURL(t.trackFile);n(Object(s.C)()),e(m(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)(r,(function(e){n(Object(s.w)(e.loaded,e.total))}));case 2:o=e.sent,n(Object(s.D)(t,u({},t,{trackAudioBuffer:o})));case 4:case"end":return e.stop()}}),e)}))))}}),[t]),null}));t.a=f}).call(this,n("./node_modules/timers-browserify/main.js").setImmediate)},"./src/components/ui/templates/player_control/PlayerControlWrap.tsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n("./node_modules/vs-react-store/lib/index.js"),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=(n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/util/util.js")),c=n("./src/constants/play_state.ts"),i=(n("./node_modules/core-js/modules/es.array.every.js"),n("./node_modules/core-js/modules/es.array.fill.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/es.array-buffer.slice.js"),n("./node_modules/core-js/modules/es.typed-array.uint8-array.js"),n("./node_modules/core-js/modules/es.typed-array.copy-within.js"),n("./node_modules/core-js/modules/es.typed-array.every.js"),n("./node_modules/core-js/modules/es.typed-array.fill.js"),n("./node_modules/core-js/modules/es.typed-array.filter.js"),n("./node_modules/core-js/modules/es.typed-array.find.js"),n("./node_modules/core-js/modules/es.typed-array.find-index.js"),n("./node_modules/core-js/modules/es.typed-array.for-each.js"),n("./node_modules/core-js/modules/es.typed-array.includes.js"),n("./node_modules/core-js/modules/es.typed-array.index-of.js"),n("./node_modules/core-js/modules/es.typed-array.iterator.js"),n("./node_modules/core-js/modules/es.typed-array.join.js"),n("./node_modules/core-js/modules/es.typed-array.last-index-of.js"),n("./node_modules/core-js/modules/es.typed-array.map.js"),n("./node_modules/core-js/modules/es.typed-array.reduce.js"),n("./node_modules/core-js/modules/es.typed-array.reduce-right.js"),n("./node_modules/core-js/modules/es.typed-array.reverse.js"),n("./node_modules/core-js/modules/es.typed-array.set.js"),n("./node_modules/core-js/modules/es.typed-array.slice.js"),n("./node_modules/core-js/modules/es.typed-array.some.js"),n("./node_modules/core-js/modules/es.typed-array.sort.js"),n("./node_modules/core-js/modules/es.typed-array.subarray.js"),n("./node_modules/core-js/modules/es.typed-array.to-locale-string.js"),n("./node_modules/core-js/modules/es.typed-array.to-string.js"),n("./src/store/selectors.ts")),u=a.c.canvas.withConfig({displayName:"Canvas",componentId:"sc-1wb9nh4-0"})(["width:100%;height:100%;"]);var l=function(e){return function(t,n,r,o,a){return e(n,r,a)*function(e,t){return Math.min(t-10,Math.max(0,t/2-Math.floor((e-128)/256*t)))}(o,t)}},d=l((function(e,t,n){return Math.cos(n+2*Math.PI/t*e)})),m=l((function(e,t,n){return Math.sin(n+2*Math.PI/t*e)})),f=function(e,t,n,r,o,a,s,c){var i=t*(2*r),u=Math.pow(2,o);e.strokeStyle="#000000",e.lineWidth=2,e.fillStyle="#FFFFFF",e.fillRect(0,0,s,c),e.beginPath();for(var l=0,f=0,p=1,b=0;b<i;b+=1){var j=b%t;if(0===j&&(p=(p+1)%2),f+=n[p?t-1-j:j],(b+1)%u==0){l=f/u,f=0;for(var h=b-u;h<b;h++){var v=s/2+d(Math.min(c,s)/2,h,i,l,0),g=c/2+m(Math.min(c,s)/2,h,i,l,0);0===b?e.moveTo(v,g):e.lineTo(v,g)}}}e.closePath(),e.stroke()},p=new Array(256).fill(128),b=r.memo((function(e){var t=r.useRef(),n=Object(o.useSelector)(i.q),a=Object(o.useSelector)(i.k),l=Object(o.useSelector)(i.p),d=Object(o.useSelector)(i.g),m=Object(o.useSelector)(i.m);return r.useEffect((function(){var n=t.current;if(function(e){var t=e.clientWidth,n=e.clientHeight;e.width==t&&e.height==n||(e.width=t,e.height=n)}(n),e.analyser&&m===c.a.PLAY){e.analyser.fftSize=2*e.monoDataLength;var r=e.analyser.frequencyBinCount,o=new Uint8Array(r);e.analyser.getByteTimeDomainData(o);var i=null;return function t(){i=requestAnimationFrame(t),e.analyser.getByteTimeDomainData(o);var r=p.map((function(e,t){return d?function(e,t,n,r){if(r!==n){var o=(t+e)/2,a=r-n,s=Math.abs(a),c=a/s,i=5*Math.floor(s/256*100)/100+1;return n+Math.max(o-n,Math.abs(a/Math.pow(2,2*i)))*c}return r}(0,256,e,o[t]):o[t]}));p=r;var s=n.getContext("2d");f(s,e.monoDataLength,r,a,l,0,n.width,n.height)}(),function(){Object(s.isNull)(i)||cancelAnimationFrame(i)}}var u=null,b=performance.now();return function t(r){u=requestAnimationFrame(t);var o=(r-b)/5,s=p.map((function(e){return e>128?Math.max(128,e-o):e<128?Math.min(128,e+o):e})),c=n.getContext("2d");f(c,e.monoDataLength,s,a,l,0,n.width,n.height),s.every((function(e){return 128===e}))&&cancelAnimationFrame(u)}(performance.now()),function(){Object(s.isNull)(u)||cancelAnimationFrame(u)}}),[e.analyser,m,n,a,l,d]),r.createElement(u,{ref:t})})),j=(n("./node_modules/core-js/modules/es.array.concat.js"),n("./src/global/index.ts")),h=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var a=r.useMemo((function(){if(e){var t=Object(j.a)(),n=t.createBufferSource(),r=t.createAnalyser(),o=t.createGain();return n.connect(r),r.connect(o),o.connect(t.destination),{source:n,gainNode:o,analyser:r}}return null}),[e].concat(n));return r.useEffect((function(){return function(){var e=Object(j.a)();try{a.source.disconnect(a.analyser),a.analyser.disconnect(a.gainNode),a.gainNode.disconnect(e.destination),a.source.buffer&&a.source.stop()}catch(e){}}}),[a]),a},v=(n("./node_modules/core-js/modules/es.math.log2.js"),n("./node_modules/core-js/modules/es.number.constructor.js"),n("./src/store/actions.ts")),g=r.memo((function(e){var t=r.useCallback((function(t){e.onChange(Number(t.target.value))}),[e.onChange]),n=r.useMemo((function(){var t=[];if(e.generateRange)t=e.generateRange();else for(var n=e.rangeFrom;n<=e.rangeTo;n+=e.rangeStep)t.push(n);return t}),[e.rangeFrom,e.rangeTo,e.rangeStep]);return r.createElement("label",null,e.label,r.createElement("select",{onChange:t,value:e.value},n.map((function(e){return r.createElement("option",{key:e,value:e},e)}))))})),y=r.memo((function(e){var t=Object(o.useSelector)(i.p),n=Object(o.useDispatch)(),a=r.useCallback((function(e){var t,r;n(Object(v.E)(Number(null!==(t=null==e||null===(r=e.target)||void 0===r?void 0:r.value)&&void 0!==t?t:e)))}),[]);return r.createElement(g,{label:"Количество объединений",rangeFrom:0,rangeTo:Math.log2(e.monoDataLength)-1,rangeStep:1,onChange:a,value:t})})),O=r.memo((function(e){var t=Object(o.useSelector)(i.k),n=Object(o.useDispatch)(),a=r.useCallback((function(e){n(Object(v.x)(e/2))}),[]);return r.createElement(g,{label:"Количество повторений",rangeFrom:2,rangeTo:20,rangeStep:2,onChange:a,value:2*t})})),w=r.memo((function(e){var t=Object(o.useSelector)(i.q);return r.useEffect((function(){e.gainNode&&(e.gainNode.gain.value=t)}),[e.gainNode,t]),null})),_=r.memo((function(e){return r.createElement("button",{onClick:e.onClick,disabled:e.isDisabled},e.children)})),E=r.memo((function(e){var t=Object(o.useSelector)(i.f),n=Object(o.useSelector)(i.m),a=Object(o.useDispatch)(),s=r.useCallback((function(){t||(n===c.a.PAUSE&&a(Object(v.A)()),n===c.a.PLAY&&a(Object(v.z)(c.a.PAUSE)))}),[t,n]);return r.createElement(_,{onClick:s,isDisabled:t},n===c.a.PAUSE&&"Play",n===c.a.PLAY&&"Pause")})),C=n("./src/components/ui/atoms/flex_container/FlexContainer.tsx"),x=r.memo((function(){return r.createElement(C.a,{justifyContent:"center"},r.createElement(E,null))})),k=(n("./node_modules/core-js/modules/es.regexp.constructor.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.replace.js"),n("./node_modules/lodash-es/toString.js"));var A=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(o);++r<o;)a[r]=e[r+t];return a};var S=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:A(e,t,n)},T=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var P=function(e){return T.test(e)};var I=function(e){return e.split("")},D="[\\ud800-\\udfff]",M="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",L="\\ud83c[\\udffb-\\udfff]",N="[^\\ud800-\\udfff]",R="(?:\\ud83c[\\udde6-\\uddff]){2}",F="[\\ud800-\\udbff][\\udc00-\\udfff]",K="(?:"+M+"|"+L+")"+"?",z="[\\ufe0e\\ufe0f]?"+K+("(?:\\u200d(?:"+[N,R,F].join("|")+")[\\ufe0e\\ufe0f]?"+K+")*"),B="(?:"+[N+M+"?",M,R,F,D].join("|")+")",U=RegExp(L+"(?="+L+")|"+B+z,"g");var Y=function(e){return e.match(U)||[]};var W=function(e){return P(e)?Y(e):I(e)};var q=function(e){return function(t){t=Object(k.a)(t);var n=P(t)?W(t):void 0,r=n?n[0]:t.charAt(0),o=n?S(n,1).join(""):t.slice(1);return r[e]()+o}}("toUpperCase");var V,G=function(e){return q(Object(k.a)(e).toLowerCase())},H=n("./node_modules/polished/dist/polished.es.js"),X=Object(a.c)(C.a).withConfig({displayName:"FlexContainerWrap",componentId:"c3v3ql-0"})(["cursor:pointer;background-color:",";color:",";&:hover{background-color:",";}transition:border 0.3s;"],(function(e){var t=e.isActive;return Object(H.a)(.05,t?"#5588ff":"white")}),(function(e){return e.isActive?"white":"black"}),(function(e){var t=e.isActive;return Object(H.a)(.1,t?"#5588ff":"white")})),$=new RegExp(/\.mp3/g),J=r.memo((function(e){var t,n=r.useCallback((function(t){t.preventDefault(),e.setActiveIndex(e.index)}),[e.setActiveIndex,e.index]),o=r.useCallback((function(t){t.stopPropagation(),e.handleRemoveTrack(e.trackData)}),[e.handleRemoveTrack,e.trackData]);return r.createElement(X,{justifyContent:"space-between",onClick:n,isActive:e.isActive},r.createElement("span",null,(t=e.trackData.trackFile.name,G(t.replace($,"")))),r.createElement("button",{onClick:o},"remove"))})),Q=r.memo((function(e){var t=Object(o.useSelector)(i.o),n=Object(o.useSelector)(i.a),a=Object(o.useDispatch)(),s=r.useCallback((function(e){a(Object(v.r)(e))}),[]),c=r.useCallback((function(e){a(Object(v.G)(e))}),[]);return r.createElement("ul",null,t.map((function(e,t){return r.createElement("li",{key:e.trackFile.name},r.createElement(J,{isActive:n===t,index:t,setActiveIndex:s,trackData:e,handleRemoveTrack:c}))})))})),Z=a.c.input.withConfig({displayName:"HiddenInput",componentId:"sc-1631eh9-0"})(["display:none;"]),ee=r.forwardRef((function(e,t){var n=r.useCallback((function(t){e.handleChange(t)}),[e.handleChange]);return(r.createElement("label",null,e.children,r.createElement(Z,{ref:t,type:"file",onChange:n,accept:e.accept,multiple:e.multiple})))})),te=r.memo((function(e){var t=r.useRef(),n=Object(o.useDispatch)(),a=r.useCallback((function(){t.current.click()}),[]),s=r.useCallback((function(e){n(Object(v.q)(Array.from(e.target.files).map((function(e){return{trackFile:e,trackAudioBuffer:null}})))),e.target.value=null}),[]);return r.createElement(ee,{ref:t,handleChange:s,accept:".mp3",multiple:!0},r.createElement(_,{onClick:a},"Добавить трек"))})),ne=r.memo((function(){return r.createElement("div",null,r.createElement(te,null),r.createElement(Q,null))}));n("./node_modules/core-js/modules/es.string.big.js"),n("./node_modules/core-js/modules/es.string.small.js");!function(e){e[e.small=2]="small",e[e.medium=3]="medium",e[e.big=4]="big"}(V||(V={}));var re,oe=a.c.label.withConfig({displayName:"Label",componentId:"sc-1r8uzpg-0"})(["display:flex;"]),ae=a.c.div.withConfig({displayName:"Container",componentId:"sc-1r8uzpg-1"})(["cursor:",";opacity:",";position:relative;width:","rem;height:","rem;border-radius:","rem;background-color:",';transition:background-color 0.25s ease-in-out,opacity 0.25 ease-in-out;&::after{content:" ";width:',"rem;height:","rem;background-color:blue;position:absolute;border-radius:","rem;box-shadow:0 2px 4px 0 rgba(0,35,11,0.2);background-color:#fff;transform:translate(",");transition:transform 0.25s ease-in-out;top:","rem;left:","rem;}"],(function(e){return e.isDisabled?"not-allowed":"pointer"}),(function(e){return e.isDisabled?.5:1}),(function(e){var t=e.sizeKey;return V[t]}),(function(e){var t=e.sizeKey;return V[t]/2}),(function(e){var t=e.sizeKey;return V[t]/2/2}),(function(e){return e.isChecked?"#5588ff":"#aaa"}),(function(e){var t=e.sizeKey;return V[t]/2-.2}),(function(e){var t=e.sizeKey;return V[t]/2-.2}),(function(e){var t=e.sizeKey;return(Number(V[t])-.2)/2/2}),(function(e){return e.isChecked?"100%":"0"}),.1,.2),se=r.memo((function(e){var t,n=r.useCallback((function(t){e.isDisabled||e.onChange(!e.isChecked,e.value,t)}),[e.onChange,e.isChecked,e.isDisabled]);return r.createElement(oe,null,e.label,r.createElement(ae,{sizeKey:null!==(t=e.size)&&void 0!==t?t:"medium",isChecked:e.isChecked,onClick:n,isDisabled:e.isDisabled}))})),ce=r.memo((function(e){var t=Object(o.useSelector)(i.g),n=Object(o.useDispatch)(),a=r.useCallback((function(e){n(Object(v.u)(e))}),[]);return r.createElement(se,{label:"Использовать затухание",isChecked:t,onChange:a})})),ie=r.memo((function(e){var t=Object(o.useSelector)(i.a),n=Object(o.useSelector)(i.e),a=Object(o.useSelector)(i.m),s=Object(o.useSelector)(i.h),u=Object(o.useDispatch)();return r.useEffect((function(){if(a===c.a.PLAY){var e=performance.now();return function(){var t=performance.now()-e,r=s+t/1e3;n-r<.5&&(r=0),u(Object(v.v)(r))}}}),[a,t]),null})),ue=n("./src/components/ui/molecules/trigger_on_get_audio_buffer/TriggerOnGetAudioBuffer.tsx"),le=r.memo((function(e){var t=Object(o.useSelector)(i.d),n=Object(o.useSelector)(i.h),a=Object(o.useSelector)(i.m);return r.useEffect((function(){var n;(null==e?void 0:e.source)&&!(null==e||null===(n=e.source)||void 0===n?void 0:n.buffer)&&(e.source.buffer=t)}),[null==e?void 0:e.source,t]),r.useEffect((function(){a===c.a.PLAY&&e.source&&t&&e.source.start(0,n)}),[e.source,t,a]),null})),de=n("./src/constants/play_loop.ts"),me=r.memo((function(e){var t=Object(o.useSelector)(i.l),n=Object(o.useDispatch)();return r.useEffect((function(){if(e.source){var r=function(){t===de.a.NO_LOOP&&n(Object(v.z)(c.a.PAUSE)),t===de.a.ONE_LOOP&&n(Object(v.B)()),t===de.a.ALL_LOOP&&(n(Object(v.s)()),n(Object(v.B)()))};return e.source.addEventListener("ended",r),function(){e.source.removeEventListener("ended",r)}}}),[e.source,t]),null}));!function(e){e.PREV_TRACK="KeyK",e.NEXT_TRACK="KeyL",e.PLAY_PAUSE="Space",e.REMOVE_TRACK_ONE="Backspace",e.REMOVE_TRACK_TWO="Delete"}(re||(re={}));var fe=function(){var e=Object(o.useSelector)(i.a),t=Object(o.useSelector)(i.m),n=Object(o.useDispatch)();r.useEffect((function(){var r=function(r){var o=r.code;o===re.NEXT_TRACK&&n(Object(v.s)()),o===re.PREV_TRACK&&n(Object(v.t)()),o===re.PLAY_PAUSE&&(t===c.a.PAUSE&&n(Object(v.A)()),t===c.a.PLAY&&n(Object(v.z)(c.a.PAUSE))),o!==re.REMOVE_TRACK_ONE&&o!==re.REMOVE_TRACK_TWO||n(Object(v.G)(e))};return document.body.addEventListener("keydown",r),function(){document.body.removeEventListener("keydown",r)}}),[e,t])},pe=r.memo((function(){return fe(),null}));function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var he=a.c.div.withConfig({displayName:"VerticalRangeBlockContainer",componentId:"sc-10e1lcf-0"})(["position:absolute;top:0;left:0;background-color:rgba(0,0,0,0.25);width:100%;height:100px;transform:translate(0,-50%) scale(1,0);transition:transform 0.3s;"]),ve=a.c.div.withConfig({displayName:"VerticalRangeBlock",componentId:"sc-10e1lcf-1"})(["position:absolute;bottom:0;background-color:#5588ff;width:100%;height:0px;"]),ge=a.c.div.withConfig({displayName:"Container",componentId:"sc-10e1lcf-2"})(["background-color:rgba(0,0,0,0.25);height:30px;border-left:1px solid black;width:30px;position:relative;padding:0 5px;cursor:pointer;&:hover,&:focus,&:active{","{transform:translate(0,-100%) scale(1,1);}}transition:background-color 0.3s;"],he),ye=function(e,t,n,r,o,a){var s=n.current.clientHeight,c=(s-(r-o.getBoundingClientRect().top))/s;return c=Math.max(e,c),c=Math.min(t,c),c-=c%a},Oe=r.memo((function(e){var t=be(r.useState(null),2),n=t[0],o=t[1],a=be(r.useState(!1),2),c=a[0],i=a[1],u=r.useRef(),l=r.useRef(),d=r.useCallback((function(t){i(!0);var n,r=0;"touches"in t?r=(null===(n=t.touches)||void 0===n?void 0:n[0]).clientY:r=t.clientY;e.onChange(ye(e.min,e.max,u,r,t.currentTarget,e.step))}),[e.onChange,e.min,e.max,e.step]),m=r.useCallback((function(e){i(!1)}),[]),f=r.useCallback((function(t){if(c){var n,r=0;if("touches"in t)r=(null===(n=t.touches)||void 0===n?void 0:n[0]).clientY;else r=t.clientY;e.onChange(ye(e.min,e.max,u,r,t.currentTarget,e.step))}}),[c,e.onChange,e.min,e.max,e.step]);r.useEffect((function(){var t,n;l.current&&(l.current.style.height="".concat(100*(t=e.min,n=e.max,(e.value-t)/(n-t)),"px"))}),[e.value,e.max,e.min]);var p=r.useCallback((function(){e.value?(o(e.value),e.onChange(e.min)):Object(s.isNullOrUndefined)(n)||e.onChange(n)}),[e.onChange,e.value,n]);return(r.createElement(ge,null,r.createElement("span",{onClick:p},e.label),r.createElement(he,{ref:u,onTouchStart:d,onMouseDown:d,onTouchMove:f,onMouseMove:f,onTouchEnd:m,onMouseUp:m,onMouseLeave:m},r.createElement(ve,{ref:l}))))})),we=r.memo((function(e){var t=Object(o.useSelector)(i.q),n=Object(o.useDispatch)(),a=r.useCallback((function(e){n(Object(v.F)(e))}),[]);return r.createElement("label",null,r.createElement(Oe,{label:"vol",value:t,min:0,max:1,step:.01,onChange:a}))})),_e=n("./src/components/ui/molecules/progress/Progress.tsx"),Ee=r.memo((function(e){var t=Object(o.useSelector)(i.l),n=Object(o.useDispatch)(),a=r.useCallback((function(){n(Object(v.y)(Object(j.b)(t)))}),[t]);return r.createElement(_,{onClick:a},t===de.a.NO_LOOP&&r.createElement("span",null,"no"),t===de.a.ALL_LOOP&&r.createElement("span",null,"all"),t===de.a.ONE_LOOP&&r.createElement("span",null,"one"))})),Ce=r.memo((function(){return r.createElement(C.a,null,r.createElement(_e.a,null),r.createElement(we,null),r.createElement(Ee,null))})),xe=a.c.div.withConfig({displayName:"Flex",componentId:"sc-1v8e4cu-0"})(["flex-basis:",";flex-grow:",";flex-shrink:",";"],(function(e){var t=e.basis;return null!=t?t:"initial"}),(function(e){var t=e.grow;return null!=t?t:"initial"}),(function(e){var t=e.shrink;return null!=t?t:"initial"})),ke=n("./src/constants/animation_time.ts"),Ae=n("./src/constants/color.ts"),Se=Object(a.b)(["transform:translate(calc(-100% + 50px));&:hover{transform:translate(0%);}"]),Te=Object(a.b)(["transform:translate(calc(100% - 50px));&:hover{transform:translate(0%);}"]),Pe=a.c.div.withConfig({displayName:"Container",componentId:"sc-6oe669-0"})(["height:100%;display:flex;flex-direction:column;position:relative;",";",";transition:transform ","ms;"],(function(e){return"left"===e.position&&Se}),(function(e){return"right"===e.position&&Te}),ke.a),Ie=a.c.div.withConfig({displayName:"ChildrenWrap",componentId:"sc-6oe669-1"})(["flex:1;margin:20px 0;border:1px solid black;"]),De=Object(a.c)(C.a).withConfig({displayName:"FlexContainerWrap",componentId:"sc-6oe669-2"})(["height:100%;"]),Me=a.c.div.withConfig({displayName:"Plashka",componentId:"sc-6oe669-3"})(["width:50px;height:100%;background-color:",";word-break:break-all;font-size:3rem;color:white;text-align:center;"],Ae.a),Le=r.memo((function(e){return r.createElement(Pe,{position:e.position},r.createElement(Ie,null,r.createElement(De,{flexDirection:"right"===e.position?"row":"row-reverse"},r.createElement(xe,{shrink:0},r.createElement(Me,null,e.title)),r.createElement(xe,{grow:1},e.children))))}));function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fe=Object(a.c)(C.a).withConfig({displayName:"FlexContainerWrap",componentId:"sc-1blpivp-0"})(["width:100%;flex:1;"]),Ke=Object(a.c)(C.a).withConfig({displayName:"FlexContainerFullHeight",componentId:"sc-1blpivp-1"})(["width:100%;height:100%;flex:1;"]),ze=function(){var e=Ne(r.useState(256),1)[0],t=Object(o.useSelector)(i.h),n=Object(o.useSelector)(i.a),a=Object(o.useSelector)(i.m),u=h(a===c.a.PLAY&&!Object(s.isNull)(n),t,n);return r.createElement(Fe,{flexDirection:"column"},r.createElement(Fe,null,r.createElement(xe,{basis:"500px"},r.createElement(Le,{position:"left"},r.createElement(C.a,{flexDirection:"column"},r.createElement(O,null),r.createElement(y,{monoDataLength:e}),r.createElement(ce,null)))),r.createElement(xe,{basis:"900px",grow:1},r.createElement(Ke,{alignItems:"center",justifyContent:"center"},r.createElement(b,{analyser:null==u?void 0:u.analyser,monoDataLength:e}))),r.createElement(xe,{basis:"500px"},r.createElement(Le,{position:"right"},r.createElement(C.a,null,r.createElement(ne,null))))),r.createElement(C.a,{justifyContent:"center"},r.createElement(x,null)),r.createElement(Ce,null),r.createElement(pe,null),r.createElement(me,{source:null==u?void 0:u.source}),r.createElement(le,{source:null==u?void 0:u.source}),r.createElement(w,{gainNode:null==u?void 0:u.gainNode}),r.createElement(ie,null),r.createElement(ue.a,null))},Be=Object(a.c)(C.a).withConfig({displayName:"FlexContainerWrap",componentId:"sc-1y4ajer-0"})(["overflow:hidden;width:100%;flex:",";opacity:",";transition:flex ","ms,opacity ","ms;"],(function(e){return e.isLoaded?"1":"0"}),(function(e){return e.isLoaded?"1":"0"}),ke.a,2*ke.a),Ue=r.memo((function(e){var t=Object(o.useSelector)(i.j),n=Object(o.useDispatch)();return r.useEffect((function(){n(Object(v.H)())}),[]),r.createElement(Be,{isLoaded:t,flexDirection:"column"},r.createElement(ze,null))}));t.default=Ue},"./src/global/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r,o=n("./src/constants/play_loop.ts"),a=function(){return r=r||new window.AudioContext},s=function(e){return o.b[e]}},"./src/utils/load_track.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/regenerator-runtime/runtime.js");var r=n("./src/global/index.ts");function o(e,t,n,r,o,a,s){try{var c=e[a](s),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}var a=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){var a=new XMLHttpRequest;a.responseType="arraybuffer",a.open("GET",t,!0),a.onprogress=n,a.onreadystatechange=function(){4===a.readyState&&(200!==a.status?alert(a.status+": "+a.statusText):Object(r.a)().decodeAudioData(a.response,(function(t){return e(t)})))},a.send()})));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function c(e){o(s,r,a,c,i,"next",e)}function i(e){o(s,r,a,c,i,"throw",e)}c(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();t.a=a},"./src/utils/time.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.string.pad-start.js");var r=function(e){return e.toString().padStart(2,"0")},o=function(e){var t=r(function(e){return Math.floor(e/60)}(e)),n=r(function(e){return Math.floor(e%60)}(e));return"".concat(t,":").concat(n)}}}]);